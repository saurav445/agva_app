List buildDeviceList() { 
  return devicesForUserList.map((data) {
     Map? deviceInfo = (data['deviceInfo'] as List?)?.first; 
     Color? alarmColor; if (data['alarmData']?.isNotEmpty ?? false) {
       String priority = data['alarmData'][0]['priority']; 
       if (priority == 'ALARM_LOW_LEVEL') {
         alarmColor = Colors.amber; 
         } else if (priority == 'ALARM_MEDIUM_LEVEL') { 
          alarmColor = Colors.amber; 
          } else if (priority == 'ALARM_HIGH_LEVEL') {
             alarmColor = Colors.red; 
             } else if (priority == 'ALARM_CRITICAL_LEVEL') { 
              alarmColor = Colors.red; } } else { 
                alarmColor = Colors.green; } 
                bool isAddedToFocus = true; 
                return ListTile( title: Container( decoration: BoxDecoration( borderRadius: BorderRadius.circular(10), color: isAddedToFocus ? Colors.pink : alarmColor, ), child: Padding( padding: const EdgeInsets.symmetric(horizontal: 11, vertical: 10), child: Row( mainAxisAlignment: MainAxisAlignment.spaceBetween, children: [  Column( crossAxisAlignment: CrossAxisAlignment.start, children: [ Text( '${deviceInfo?['DeviceType'] ?? 'N/A'}', style: TextStyle( fontFamily: 'Avenir', color: Color.fromARGB(255, 218, 218, 218), fontSize: MediaQuery.of(context).size.width * 0.05, fontWeight: FontWeight.bold, ), ), ], ), Column( crossAxisAlignment: CrossAxisAlignment.end, children: [ Text( 'PT. Salim Raza', style: TextStyle( fontFamily: 'Avenir', color: Color.fromARGB(255, 218, 218, 218), fontSize: MediaQuery.of(context).size.width * 0.04, ), ),  ], ), ], ), ), ), onTap: () {}, ); }).toList(); }